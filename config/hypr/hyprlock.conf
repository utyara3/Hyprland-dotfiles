general {
    # Отключаем скрытие курсора и показываем всё сразу
    hide_cursor = false
    grace = 0  # Не ждём перед показом поля
    no_fade_in = true  # Без анимации появления
}

# Фон
background {
    path = ~/.config/hypr/images/lock.jpg
    color = rgba(0, 0, 0, 0.0)  # Без затемнения
    blur_passes = 3
    blur_size = 1
}

# Поле ввода - всегда видимое
input-field {
    # Размер и позиция
    size = 300, 60
    position = 0, -150
    halign = center
    valign = center

    # Цвета
    outer_color = rgb(0, 0, 0)  # Чёрная рамка
    inner_color = rgb(255, 255, 255)  # Белый фон внутри
    font_color = rgb(0, 0, 0)  # Чёрный текст
    
    # Критически важные параметры:
    fade_on_empty = false  # Не скрываем при пустом поле
    check_color = rgb(255, 0, 0)  # Цвет при неправильном пароле
    fail_color = rgb(255, 100, 100)  # Цвет при ошибке
    
    # Текст placeholder
    placeholder_text = <span foreground="##606060">Введите пароль...</span>
    font_family = JetBrains Mono Nerd Font
    
    # Тень для лучшей видимости
    shadow_passes = 2
    shadow_size = 5
    shadow_boost = 1.2
}

# Текст над полем ввода
label {
    text = utyara3
    position = 0, -80
    halign = center
    valign = center
    font_size = 28
    font_family = JetBrains Mono Nerd Font
    color = rgb(255, 255, 255)
    
    # Тень для читаемости на любом фоне
    shadow_passes = 3
    shadow_size = 4
    shadow_color = rgba(0, 0, 0, 0.8)
}

# Часы (опционально)
label {
    text = cmd[update:60000] echo "$(date +'%H:%M')"
    position = 0, 120
    halign = center
    valign = center
    font_size = 64
    font_family = JetBrains Mono Nerd Font
    color = rgb(255, 255, 255)
    shadow_passes = 3
    shadow_size = 6
}

# Раскладка
label {
    text = cmd[update:1000] ~/.local/bin/keyboard-layout.sh
    position = 0, -220
    halign = center
    valign = center
    font_size = 20
    font_family = JetBrains Mono Nerd Font
    color = rgb(255, 255, 255)
    shadow_passes = 2
    shadow_size = 3
    shadow_color = rgba(0, 0, 0, 0.8)
}
